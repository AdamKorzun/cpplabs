//---------------------------------------------------------------------------

#include <vcl.h>
#include <exception>

#pragma hdrstop
#include "Bus.cpp"
#include "MainForm.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TForm3 *Form3;
Bus* firstBus = new Bus();
Bus* head = firstBus;
//---------------------------------------------------------------------------
__fastcall TForm3::TForm3(TComponent* Owner)
	: TForm(Owner)
{
}
//---------------------------------------------------------------------------

//---------------------------------------------------------------------------

//---------------------------------------------------------------------------
void __fastcall TForm3::EnterPress(TObject *Sender, System::WideChar &Key)
{
	if (Key != VK_RETURN) {
		return;
	}
	Form3->Memo1->Clear();
	try{
		StrToInt(Form3->BusCombo->Text);
	}
	catch(...){
		Form3->Memo1->Lines->Add("Error occured");
		return;
	}

	Bus* iteration = firstBus;
	while(iteration->next){
		if (iteration.GetNumber() == StrToInt(Form3->BusCombo->Text)) {
			return;
		}
        iteration = iteration->next();
	}
	head->next = new Bus();
	head = head->next;
	head->SetNumber(StrToInt(Form3->BusCombo->Text));
	Form3->Memo1->Lines->Add(head->GetNumber());
	head->next = nullptr;


}
//---------------------------------------------------------------------------
