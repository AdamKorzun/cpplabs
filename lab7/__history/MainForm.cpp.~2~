//---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop

#include "MainForm.h"
#include "HashTable.h"
#include "Stack.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TForm3 *Form3;
HashTable* table;
//---------------------------------------------------------------------------
__fastcall TForm3::TForm3(TComponent* Owner)
	: TForm(Owner)
{
}
//---------------------------------------------------------------------------

void __fastcall TForm3::FormCreate(TObject *Sender)
{
	Memo1->Clear();
	Memo2->Clear();
	Memo3->Clear();
	Edit1->Text = "";
	Edit2->Text = "";
}
//---------------------------------------------------------------------------

void __fastcall TForm3::Button1Click(TObject *Sender)
{
	try {
		table = new HashTable(StrToInt(Edit2->Text));
	} catch (...) {
		return;
	}
	for (int i = 0; i < StrToInt(Edit1->Text); i++) {
		int random =  1 + rand() % 100;
		table->Add(random);
		Memo1->Lines->Add(IntToStr(random));
	}
	for (int i = 0; i < StrToInt(Edit2->Text); i++) {
		Stack* stack = table->GetStack(i);
		while (stack->Filled()){
			Memo3->Lines->Append(IntToStr(stack->GetKey()));
			stack = stack->Pop();

		}

	}
}
//---------------------------------------------------------------------------

